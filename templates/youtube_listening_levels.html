{% extends "base.html" %}

{% block title %}YouTube リスニング - JLPT レベル選択{% endblock %}

{% block head %}
<style>
/* YouTube Listening Select Page Styles */
.youtube-listening-page {
    font-size: 0.75em; /* 75% of base font size */
}

.youtube-listening-page .container {
    max-width: 100% !important;
    width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
}

/* Hide sidebar for full-width display */
.youtube-listening-page .sidebar-layout > div:last-child {
    display: none !important;
}

.youtube-listening-page .sidebar-layout > div:first-child {
    flex: 1 !important;
    max-width: 100% !important;
    width: 100% !important;
}
</style>
{% endblock %}

{% block content %}
<div class="youtube-listening-page">
<div class="container">
    <h1 class="my-4">YouTube リスニングクイズ</h1>
    <p class="lead">JLPTレベルを選択してください</p>
    
    <div class="row">
        {% for level_data in levels %}
        <div class="col-md-4 mb-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">{{ level_data.level }}</h5>
                    <p class="card-text">
                        クイズ数: {{ level_data.count }}個<br>
                        総時間: {{ (level_data.total_duration // 60) }}分{{ (level_data.total_duration % 60) }}秒
                    </p>
                    <a href="{{ url_for('youtube_listening.listening_quiz_list', level=level_data.level) }}" 
                       class="btn btn-primary">開始</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    
    {% if not levels %}
    <div class="alert alert-info">
        <p>現在利用可能なクイズがありません。</p>
    </div>
    {% endif %}
    
    <!-- YouTube著作権免責事項 -->
    <div style="margin-top: 24px; padding: 12px; border: 1px solid #ccc; background: #f9f9f9; font-size: 11px; line-height: 1.4;">
        <h4 style="font-size: 12px; margin-bottom: 8px; color: #333;">免責事項</h4>
        
        <p style="margin-bottom: 8px;">このページでは、YouTube API を使用して埋め込まれた動画を表示しています。埋め込みプレーヤーを通じて視聴される動画の再生回数や視聴データは、元の YouTube 動画に直接加算されます。</p>
        
        <p style="margin-bottom: 8px;">本サイトでは、YouTube 公式の埋め込み機能を利用しており、動画の所有権や著作権は<strong>各動画の制作者または権利者</strong>に帰属します。当サイトは動画の内容を変更したり、独自配信しているものではありません。</p>
        
        <p style="margin-bottom: 8px;">また、当サイトを使用することにより、ユーザーは YouTube の<a href="https://www.youtube.com/t/terms" target="_blank" style="color: #1976d2;">利用規約</a>および<a href="https://policies.google.com/privacy" target="_blank" style="color: #1976d2;">プライバシーポリシー</a>に同意したものとみなされます。当サイトにおける YouTube API の利用については、Google の Developer Policies を遵守しています。</p>
    </div>
</div>
</div>
{% endblock %}