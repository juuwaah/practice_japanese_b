{% set hide_sidebar = true %}
{% extends "base.html" %}

{% block title %}{{ _('blog') }} - {{ _('japanese_learning_app') }}{% endblock %}

{% block window_title %}{{ _('blog') }}{% endblock %}

{% block head %}
<style>
/* Simple Blog List Styling */
.blog-list-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 16px;
}

.blog-post-item {
    padding: 12px 16px;
    border-bottom: 1px solid #E0E0E0;
    transition: background-color 0.2s ease;
}

.blog-post-item:hover {
    background-color: #F8F8F8;
}

.blog-post-item:last-child {
    border-bottom: none;
}

.blog-post-item h2 {
    margin: 0;
    font-size: 14px;
    line-height: 1.4;
    font-weight: normal;
}

.blog-post-item h2 a {
    color: #000;
    text-decoration: none;
}

.blog-post-item h2 a:hover {
    color: #333;
    text-decoration: underline;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .blog-list-container {
        padding: 8px;
    }
    
    .blog-post-item {
        padding: 10px 12px;
    }
    
    .blog-post-item h2 {
        font-size: 13px;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="blog-page">
<div class="blog-list-container">
  <div style="text-align: center; margin-bottom: 24px;">
    <h1 style="margin: 0 0 8px 0; font-size: 18px;">üìù {{ _('blog') }}</h1>
    <div style="font-size: 10px; color: #666;">
      {{ _('blog_description') }}
    </div>
  </div>

  <!-- Ê§úÁ¥¢„Éï„Ç©„Éº„É† -->
  <div style="max-width: 400px; margin: 0 auto 20px auto; padding: 12px; background: #F8F8F8; border: 1px solid #DDD;">
    <form method="GET" action="{{ url_for('blog.blog_index') }}">
      <div style="display: flex; gap: 8px;">
        <input type="text" name="q" value="{{ search_query }}" placeholder="{{ _('search_blog_posts') }}" 
               style="flex: 1; padding: 6px; font-size: 10px; border: 1px solid #CCC;">
        <button type="submit" style="padding: 6px 12px; font-size: 10px; background: #FFF; border: 1px solid #CCC;">
          üîç {{ _('search') }}
        </button>
      </div>
    </form>
  </div>

  {% if search_query %}
  <div style="text-align: center; margin-bottom: 16px; font-size: 10px; color: #666;">
    "{{ search_query }}" {{ _('search_results') }}: {{ blog_posts|length }} {{ _('articles_found') }}
    <a href="{{ url_for('blog.blog_index') }}" style="margin-left: 8px; color: #0066CC;">{{ _('show_all_articles') }}</a>
  </div>
  {% endif %}

  <!-- „Ç∑„É≥„Éó„É´„Å™„Éñ„É≠„Ç∞Ë®ò‰∫ã‰∏ÄË¶ß -->
  {% if blog_posts %}
  <div class="blog-list">
    {% for post in blog_posts %}
    <div class="blog-post-item">
      <h2>
        <a href="{{ url_for('blog.blog_post', document_id=post.id) }}">
          {{ post.title }}
        </a>
      </h2>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div style="text-align: center; padding: 40px 20px; color: #666; border: 1px solid #E0E0E0; background: #F9F9F9;">
    <div style="font-size: 14px; margin-bottom: 8px;">üìñ</div>
    {% if search_query %}
      <div style="font-size: 12px;">{{ _('no_articles_found') }}</div>
      <div style="font-size: 10px; color: #999; margin-top: 4px;">{{ _('try_different_search') }}</div>
    {% else %}
      <div style="font-size: 12px;">{{ _('no_blog_posts_yet') }}</div>
      <div style="font-size: 10px; color: #999; margin-top: 4px;">{{ _('check_back_later') }}</div>
    {% endif %}
  </div>
  {% endif %}
</div>
</div>
{% endblock %}