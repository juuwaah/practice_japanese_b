{% extends 'base.html' %}
{% block content %}
<div class="main-content-wrapper">
  <div class="main-content" style="max-width: 400px;">
    <h2>JLPTã“ã¨ã°ã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼</h2>
    <form method="post">
      <label for="role">ãƒ­ãƒ¼ãƒ«:</label>
      <select name="role" id="role" required>
        <option value="user">ã‚ãªãŸãŒã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼ï¼ˆYou guesserï¼‰</option>
        <option value="gpt">ChatGPTãŒã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼ï¼ˆAI guesses your wordï¼‰</option>
      </select>
      <label for="level">JLPTãƒ¬ãƒ™ãƒ«:</label>
      <select name="level" id="level" required>
        {% for lvl in levels %}
        <option value="{{ lvl }}">{{ lvl }}</option>
        {% endfor %}
      </select>
      <div style="margin-top: 2em; text-align: center;">
        <button type="submit">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
      </div>
    </form>
    <div class="howto-wrapper" style="max-width:400px; margin: 2em auto 1.5em auto;">
      <button id="howto-toggle" style="width:100%; padding:0.8em 1em; font-size:1.1em; font-weight:bold; background:#f0f0f0; border:1px solid #bbb; border-radius:10px; cursor:pointer; text-align:left;">
        How to play / éŠã³æ–¹ğŸ”½
      </button>
      <div id="howto-content" style="display:none; background:#fafafa; border:1px solid #ddd; border-radius:10px; margin-top:0.5em; padding:1.2em; font-size:1em;">
        <div style="margin-bottom:1em;">
          <b>How to play</b><br>
          This app has two modes:<br>
          1. <b>AI guesses</b>: The user thinks of a JLPT word, and the AI (ChatGPT) asks questions to guess it. The user answers with "ã¯ã„ (Yes)", "ã„ã„ãˆ (No)", "ã‚ã‹ã‚‰ãªã„ (Don't know)", or "ã¨ãã©ã (Sometimes)". The game ends when the user presses the "æ­£è§£ï¼" button after the AI guesses correctly.<br>
          2. <b>User guesses</b>: The AI thinks of a JLPT word, and the user asks questions in Japanese to narrow it down. The user can guess by asking "â—‹â—‹ã§ã™ã‹ï¼Ÿ", ask for a hint (ãƒ’ãƒ³ãƒˆ), or give up (é™å‚/ã“ãŸãˆ).
        </div>
        <div>
          <b>éŠã³æ–¹</b><br>
          æœ¬ã‚¢ãƒ—ãƒªã¯2ã¤ã®ãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ï¼š<br>
          1. <b>AIãŒå½“ã¦ã‚‹</b>: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒJLPTå˜èªã‚’è€ƒãˆã€AIï¼ˆChatGPTï¼‰ãŒè³ªå•ã—ã¦å½“ã¦ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€Œã¯ã„ã€ã€Œã„ã„ãˆã€ã€Œã‚ã‹ã‚‰ãªã„ã€ã€Œã¨ãã©ãã€ã§ç­”ãˆã€AIãŒæ­£è§£ã‚’å½“ã¦ãŸã‚‰ã€Œæ­£è§£ï¼ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦çµ‚äº†ã—ã¾ã™ã€‚<br>
          2. <b>ã‚ãªãŸãŒå½“ã¦ã‚‹</b>: AIãŒJLPTå˜èªã‚’è€ƒãˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ—¥æœ¬èªã§è³ªå•ã—ã¦å˜èªã‚’çµã‚Šè¾¼ã¿ã¾ã™ã€‚ã€Œâ—‹â—‹ã§ã™ã‹ï¼Ÿã€ã§æ¨æ¸¬ã€ãƒ’ãƒ³ãƒˆã‚„é™å‚ã‚‚ä½¿ãˆã¾ã™ã€‚
        </div>
      </div>
    </div>
  </div>
</div>
<script>
// How to play dropdown toggle
(function() {
  var btn = document.getElementById('howto-toggle');
  var content = document.getElementById('howto-content');
  if(btn && content) {
    btn.onclick = function() {
      if(content.style.display === 'none' || content.style.display === '') {
        content.style.display = 'block';
        btn.innerHTML = 'How to play / éŠã³æ–¹â–²';
      } else {
        content.style.display = 'none';
        btn.innerHTML = 'How to play / éŠã³æ–¹ğŸ”½';
      }
    }
  }
})();
</script>
{% endblock %} 