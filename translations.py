# å¤šè¨€èªå¯¾å¿œè¾æ›¸
TRANSLATIONS = {
    'en': {
        # Menu Bar
        'file': 'File',
        'quiz': 'Quiz',
        'games': 'Games',
        'audio': 'Audio',
        'help': 'Help',
        'support_menu': 'Support',
        'home': 'Home',
        'about': 'About',
        'login': 'Login',
        'logout': 'Logout',
        'register': 'Register',
        'grammar': 'Grammar',
        'vocabulary': 'Vocabulary',
        'flashcards': 'Flashcards',
        'you_are_akinator': 'You are the akinator',
        'ai_is_akinator': 'AI is the akinator',
        'youtube_listening': 'YouTube Listening',
        'support': 'Support',
        'admin_dashboard': 'Admin Dashboard',
        
        # Common UI
        'ready': 'Ready',
        'user': 'User',
        'not_logged_in': 'Not logged in',
        'language': 'Language',
        'select_language': 'Select Language',
        'font_family': 'Font',
        'select_font': 'Select Font',
        'font_notosans': 'Noto Sans JP (Modern)',
        'font_dotgothic': 'DotGothic16 (Pixel)',
        'font_klee': 'Klee One (Textbook)',
        
        # Login/Register
        'sign_in': 'Sign In',
        'username': 'Username',
        'password': 'Password',
        'remember_me': 'Remember Me',
        'invalid_credentials': 'Invalid username or password',
        'congratulations_registered': 'Congratulations, you are now a registered user!',
        'confirm_password': 'Confirm Password',
        
        # About page
        'about_title': 'About Japanese Learning App',
        'about_description': 'This application helps you learn Japanese through various interactive methods including grammar quizzes, vocabulary tests, flashcards, and listening exercises.',
        'about_features': 'Features',
        'about_feature_1': 'â€¢ JLPT grammar and vocabulary practice',
        'about_feature_2': 'â€¢ Interactive flashcard system with spaced repetition',
        'about_feature_3': 'â€¢ Listening comprehension exercises',
        'about_feature_4': 'â€¢ Fun games like Akinator for language practice',
        'about_feature_5': 'â€¢ Progress tracking and statistics',
        
        # Games descriptions
        'akinator_description': 'Think of a Japanese word or concept, and the AI will try to guess it by asking questions!',
        'grammar_description': 'Practice JLPT grammar patterns with interactive exercises.',
        'vocab_description': 'Test your Japanese vocabulary knowledge across different JLPT levels.',
        'flashcard_description': 'Learn and memorize Japanese words using our spaced repetition system.',
        'listening_description': 'Improve your Japanese listening skills with audio exercises.',
        
        # Footer
        'copyright': 'copyright Â© B',
        
        # Error messages
        'error_occurred': 'An error occurred',
        'try_again': 'Please try again',
        
        # Tooltips
        'selection_tool': 'Selection Tool',
        'text_tool': 'Text Tool',
        'pen_tool': 'Pen Tool',
        'rectangle_tool': 'Rectangle Tool',
        'circle_tool': 'Circle Tool',
        'line_tool': 'Line Tool',
        'feedback_tool': 'Feedback',
        'sitemap_tool': 'Sitemap',
        'language_selection': 'Language Selection',
        'settings_toolbar_note': 'Tip: Use the "ğŸŒ" or "A" icons on the left to make the same changes',
        
        # Additional page-specific translations
        'japanese_learning_app': 'Japanese Learning App',
        'user_authentication': 'User Authentication',
        'dont_have_account': "Don't have an account?",
        'register_here': 'Register here',
        'already_have_account': 'Already have an account?',
        'login_here': 'Login here',
        'oauth_login': 'OAuth Login',
        'about_this_application': 'About This Application',
        'about_this_app': 'About This App',
        'application_info': 'Application Info',
        'developer': 'Developer',
        'support_this_project': 'Support This Project',
        'other_apps': 'Other Apps',
        'privacy_terms': 'Privacy & Terms',
        'onomatopoeia_quiz': 'Onomatopoeia Quiz',
        'daily_onomatopoeia_challenge': 'Daily Onomatopoeia Challenge',
        'todays_japanese_onomatopoeia': "Today's Japanese Onomatopoeia",
        'what_does_this_mean': 'What does this mean?',
        'correct_well_done': 'Correct! Well done!',
        'incorrect_try_again': 'Incorrect. Try again next time!',
        'example_sentences': 'Example Sentences',
        'try_another_quiz': 'Try Another Quiz',
        
        # Akinator game translations
        'akinator_game': 'Akinator Game',
        'word_akinator': 'Word Akinator',
        'akinator_setup': 'Akinator Setup',
        'reset_change': 'Reset/Change',
        'conversation': 'Conversation',
        'you': 'You',
        'ai': 'AI',
        'type_your_question': 'Type your question...',
        'submit_press_enter': 'Submit / press Enter',
        'hint': 'Hint',
        'give_up': 'Give Up',
        'i_know': 'I Know!',
        'enter_answer': 'Enter your answer...',
        'submit_answer': 'Submit answer',
        'quick_responses': 'Quick Responses',
        'yes': 'Yes',
        'no': 'No',
        'dont_know': "Don't know",
        'sometimes': 'Sometimes',
        'correct_exclamation': 'Correct!',
        'game_over': 'Game Over!',
        'play_again': 'Play Again',
        'change_settings': 'Change Settings',
        'instructions': 'Instructions',
        'ask_questions_about_ai_word': 'Ask questions about the AI\'s word to figure out what it is thinking of.',
        'think_of_jlpt_word': 'Think of a JLPT {level} word and answer the AI\'s questions.',
        'game_mode': 'Game Mode',
        'jlpt_level': 'JLPT Level',
        'start_game': 'Start Game',
        'how_to_play': 'How to Play',
        'mode_1_ai_guesses': 'Mode 1: AI Guesses Your Word',
        'mode_1_description': 'Think of a JLPT word. The AI will ask you questions to guess it. Answer with "ã¯ã„ (Yes)", "ã„ã„ãˆ (No)", "ã‚ã‹ã‚‰ãªã„ (Don\'t know)", or "ã¨ãã©ã (Sometimes)". Click "æ­£è§£ï¼" when the AI guesses correctly.',
        'mode_2_you_guess': 'Mode 2: You Guess AI\'s Word',
        'mode_2_description': 'The AI thinks of a word. Ask questions in Japanese to guess it. The AI will respond with hints. Type your final guess when ready.',
        'tips': 'Tips',
        'tip_1': 'â€¢ Choose your JLPT level carefully - harder levels have more vocabulary',
        'tip_2': 'â€¢ Be patient - the AI learns from your responses',
        'tip_3': 'â€¢ Try asking about word type, usage, or meaning in Mode 2',
        
        # About page additional translations
        'app_description_full': 'This application is designed to help learners practice Japanese vocabulary and grammar, especially for the JLPT (Japanese Language Proficiency Test) levels N5â€“N1.<br><br>Features include vocabulary quizzes, grammar translation practice, flashcards, and interactive games powered by OpenAI API.',
        'developer_info': 'Created by B, an university student and Japanese teacher on Preply.<br><br>Want to learn Japanese on Preply?<br>',
        'get_30_percent_discount': 'Get 30% Discount',
        'liked_this_app': 'Liked this app?<br>Support the developer on Patreon to get access to more content like listening quizzes, more difficult grammar expressions, JLPT level content, and other interesting content related to Japanese.',
        'support_on_patreon': 'ğŸ¯ Support on Patreon',
        'patreon_support': 'Patreon',
        'donation_page': 'Donation (PayPal / Buy me a coffee)',
        'donation_support': 'Support Development',
        'support_development': 'Support Development',
        'support_message': 'Help keep this app free!',
        'support_description': 'Your support helps maintain and improve this Japanese learning platform for everyone.',
        'thank_you_message': 'Thank you for supporting Japanese learning!',
        'n_back_test': 'N-back test (numbers)',
        'may_take_time_to_load': '(may take time to load)',
        'privacy_policy_content': 'This app does not collect or share personal information except for authentication. User data is only used for app functionality. By using this app, you agree to use it for personal study purposes only.',
        
        # Sitemap translations
        'sitemap_title': 'ğŸ—ºï¸  SITEMAP',
        'sitemap_tip': 'ğŸ’¡ Tip: Click links to navigate to each page',
        'loading': 'Loading...',
        'failed_to_load_sitemap': 'Failed to load sitemap',
        
        # Grammar page translations
        'translation_practice': 'Translation Practice',
        'translation_direction': 'Translation Direction',
        'generate_press_r': 'Generate / press R',
        'original': 'Original',
        'your_translation': 'Your Translation',
        'submit_answer_shift_enter': 'Submit Answer / press Shift+Enter',
        'score_results': 'Score Results',
        'meaning': 'Meaning',
        'model_answers': 'Model Answers',
        'casual_language': 'Casual Language (å‹é”åŒå£«)',
        'feedback': 'Feedback',
        'translation_submitted': 'Translation Submitted',
        'no_scoring_jpn_to_eng': 'Your translation has been submitted. This is practice for reading comprehension - no scoring provided for Japanese â†’ English translation.',
        'quick_keys': 'Quick Keys',
        'quick_keys_grammar': 'R = Generate New | Shift+Enter = Check Answer',
        
        # Vocab page translations
        'vocabulary_quiz': 'Vocabulary Quiz',
        'generate_quiz_press_r': 'Generate Quiz / press R',
        'question': 'Question',
        'choose_correct_word': 'Choose the correct word for the blank',
        'explanation': 'Explanation',
        'examples': 'Examples',
        'next_question_press_r': 'Next Question / press R',
        'quick_keys_vocab': 'R = Generate New Question',
        
        # Flashcard page translations
        'flashcard_setup': 'ğŸ“š Flashcard Setup',
        'review_available': 'ğŸ“– Review Available',
        'words_ready_for_review': 'words ready for review',
        'number_of_cards': 'Number of Cards',
        'card_display_mode': 'Card Display Mode',
        'front_kanji_reading': 'Front: Kanji + Reading',
        'back_meaning_type': 'Back: Meaning + Type',
        'front_meaning_type': 'Front: Meaning + Type',
        'back_kanji_reading': 'Back: Kanji + Reading',
        'start_learning': 'ğŸš€ Start Learning',
        'how_to_use': 'How to Use',
        'spaced_repetition': 'Spaced Repetition',
        'spaced_repetition_desc': 'Cards are scheduled for review based on how well you know them. Easy cards appear less frequently.',
        
        # Listening quiz translations
        'premium_feature': 'Premium Feature',
        'patreon_only_desc': 'Listening quizzes are available for Patreon supporters only.',
        'login_with_patreon': 'Login with Patreon',
        'login_with_google': 'Login with Google',
        'continue_as_guest': 'Continue as Guest',
        'browse_as_guest': 'Browse as Guest',
        'available_quizzes': 'Available Quizzes',
        'no_quizzes_available': 'No Quizzes Available',
        'no_quizzes_desc': 'There are currently no listening quizzes available. Please check back later.',
        
        # Flashcard study translations
        'flashcard_study': 'Flashcard Study',
        'flashcard_study_session': 'Flashcard Study Session',
        'card_progress': 'Card {current} of {total}',
        'learned': 'Learned!',
        'not_learned': 'Not Learned',
        'click_card_to_flip': 'Click the card to flip it (can flip multiple times)',
        'no_words_available': 'No Words Available',
        'no_words_available_desc': 'No words are available for this level.',
        'back_to_setup': 'Back to Setup',
        'progress': 'Progress',
        
        # Flashcard complete translations
        'flashcard_complete': 'Flashcard Complete',
        'study_session_complete': 'Study Session Complete',
        'session_complete': 'Session Complete!',
        'great_job': 'Great Job!',
        'flashcard_session_completed': 'You have completed this flashcard session.',
        'progress_saved_automatically': 'Your progress has been saved automatically.',
        'session_summary': 'Session Summary',
        'cards_studied': 'Cards Studied',
        'need_review': 'Need Review',
        'total': 'Total',
        'learned_words': 'Learned Words',
        'kanji': 'Kanji',
        'reading': 'Reading',
        'type': 'Type',
        'study_count': 'Study Count',
        'next_review': 'Next Review',
        'words_needing_review': 'Words Needing Review',
        'review_schedule': 'Review Schedule',
        'complete_review_schedule_desc': 'This shows your complete review schedule for all words (learned and not learned).',
        'total_words_with_schedule': 'Total words with review schedule',
        'spaced_repetition_info': 'Spaced Repetition Info',
        'spaced_repetition_desc_complete': 'Words marked as "learned" will appear for review according to the spaced repetition schedule. Words marked as "not learned" will appear again soon for additional practice.',
        'no_reviews_scheduled': 'No reviews scheduled',
        'back_to_flashcard_home': 'Back to Flashcard Home',
        'today': 'Today',
        'days_abbrev': 'd',
        'days_until_review': 'Days until review',
        'words_to_review': 'Words to Review',
        'review_schedule_chart_desc': 'Review Schedule: Words you need to study each day',
        
        # Listening quiz translations
        'audio_listening_test': 'Audio Listening Test',
        'audio_player': 'Audio Player',
        'score': 'Score',
        'submit_answers': 'Submit Answers',
    },
    
    'ja': {
        # Menu Bar
        'file': 'ãƒ•ã‚¡ã‚¤ãƒ«',
        'quiz': 'ã‚¯ã‚¤ã‚º',
        'games': 'ã‚²ãƒ¼ãƒ ',
        'audio': 'éŸ³å£°',
        'help': 'ãƒ˜ãƒ«ãƒ—',
        'support_menu': 'ã‚µãƒãƒ¼ãƒˆ',
        'home': 'ãƒ›ãƒ¼ãƒ ',
        'about': 'ã“ã®ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦',
        'login': 'ãƒ­ã‚°ã‚¤ãƒ³',
        'logout': 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ',
        'register': 'æ–°è¦ç™»éŒ²',
        'grammar': 'æ–‡æ³•',
        'vocabulary': 'ãƒœã‚­ãƒ£ãƒ–ãƒ©ãƒªãƒ¼',
        'flashcards': 'ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰',
        'you_are_akinator': 'ã‚ãªãŸãŒã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼',
        'ai_is_akinator': 'AIãŒã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼',
        'youtube_listening': 'YouTubeãƒªã‚¹ãƒ‹ãƒ³ã‚°',
        'support': 'æ”¯æ´',
        'admin_dashboard': 'ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰',
        
        # Common UI
        'ready': 'æº–å‚™å®Œäº†',
        'user': 'ãƒ¦ãƒ¼ã‚¶ãƒ¼',
        'not_logged_in': 'ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã¾ã›ã‚“',
        'language': 'è¨€èª',
        'select_language': 'è¨€èªã‚’é¸æŠ',
        'font_family': 'ãƒ•ã‚©ãƒ³ãƒˆ',
        'select_font': 'ãƒ•ã‚©ãƒ³ãƒˆé¸æŠ',
        'font_notosans': 'Noto Sans JP (ãƒ¢ãƒ€ãƒ³)',
        'font_dotgothic': 'DotGothic16 (ãƒ”ã‚¯ã‚»ãƒ«)',
        'font_klee': 'Klee One (æ•™ç§‘æ›¸ä½“)',
        
        # Login/Register
        'sign_in': 'ã‚µã‚¤ãƒ³ã‚¤ãƒ³',
        'username': 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å',
        'password': 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰',
        'remember_me': 'ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚’ä¿æŒ',
        'invalid_credentials': 'ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒç„¡åŠ¹ã§ã™',
        'congratulations_registered': 'ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸï¼',
        'confirm_password': 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª',
        
        # About page
        'about_title': 'æ—¥æœ¬èªå­¦ç¿’ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦',
        'about_description': 'ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ–‡æ³•ã‚¯ã‚¤ã‚ºã€èªå½™ãƒ†ã‚¹ãƒˆã€ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã€ãƒªã‚¹ãƒ‹ãƒ³ã‚°ç·´ç¿’ãªã©ã€æ§˜ã€…ãªã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ–¹æ³•ã§æ—¥æœ¬èªå­¦ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚',
        'about_features': 'æ©Ÿèƒ½',
        'about_feature_1': 'â€¢ JLPTæ–‡æ³•ãƒ»èªå½™ç·´ç¿’',
        'about_feature_2': 'â€¢ é–“éš”åå¾©ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰',
        'about_feature_3': 'â€¢ ãƒªã‚¹ãƒ‹ãƒ³ã‚°ç†è§£ç·´ç¿’',
        'about_feature_4': 'â€¢ è¨€èªç·´ç¿’ã®ãŸã‚ã®ã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼ãªã©ã®æ¥½ã—ã„ã‚²ãƒ¼ãƒ ',
        'about_feature_5': 'â€¢ é€²æ—è¿½è·¡ã¨çµ±è¨ˆ',
        
        # Games descriptions
        'akinator_description': 'æ—¥æœ¬èªã®å˜èªã‚„æ¦‚å¿µã‚’æ€ã„æµ®ã‹ã¹ã¦ãã ã•ã„ã€‚AIãŒè³ªå•ã‚’ã—ã¦å½“ã¦ã‚ˆã†ã¨ã—ã¾ã™ï¼',
        'grammar_description': 'ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªç·´ç¿’ã§JLPTæ–‡æ³•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ç¿’ã—ã¦ãã ã•ã„ã€‚',
        'vocab_description': 'æ§˜ã€…ãªJLPTãƒ¬ãƒ™ãƒ«ã§æ—¥æœ¬èªèªå½™çŸ¥è­˜ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚',
        'flashcard_description': 'é–“éš”åå¾©ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ã£ã¦æ—¥æœ¬èªã®å˜èªã‚’å­¦ç¿’ãƒ»è¨˜æ†¶ã—ã¦ãã ã•ã„ã€‚',
        'listening_description': 'éŸ³å£°ç·´ç¿’ã§æ—¥æœ¬èªã®ãƒªã‚¹ãƒ‹ãƒ³ã‚°ã‚¹ã‚­ãƒ«ã‚’å‘ä¸Šã•ã›ã¦ãã ã•ã„ã€‚',
        
        # Footer
        'copyright': 'copyright Â© B',
        
        # Error messages
        'error_occurred': 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
        'try_again': 'ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„',
        
        # Tooltips
        'selection_tool': 'é¸æŠãƒ„ãƒ¼ãƒ«',
        'text_tool': 'ãƒ†ã‚­ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«',
        'pen_tool': 'ãƒšãƒ³ãƒ„ãƒ¼ãƒ«',
        'rectangle_tool': 'å››è§’å½¢ãƒ„ãƒ¼ãƒ«',
        'circle_tool': 'å††ãƒ„ãƒ¼ãƒ«',
        'line_tool': 'ç·šãƒ„ãƒ¼ãƒ«',
        'feedback_tool': 'ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯',
        'sitemap_tool': 'ã‚µã‚¤ãƒˆãƒãƒƒãƒ—',
        'language_selection': 'è¨€èªé¸æŠ',
        'settings_toolbar_note': 'ãƒ’ãƒ³ãƒˆ: ç”»é¢å·¦ã®"ğŸŒ"ãƒãƒ¼ã‚¯ã‚„"A"ãƒãƒ¼ã‚¯ã§åŒã˜å¤‰æ›´ãŒã§ãã¾ã™',
        
        # Additional page-specific translations
        'japanese_learning_app': 'æ—¥æœ¬èªå­¦ç¿’ã‚¢ãƒ—ãƒª',
        'user_authentication': 'ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼',
        'dont_have_account': 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„ã§ã™ã‹ï¼Ÿ',
        'register_here': 'ã“ã¡ã‚‰ã§ç™»éŒ²',
        'already_have_account': 'ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã™ã‹ï¼Ÿ',
        'login_here': 'ã“ã¡ã‚‰ã§ãƒ­ã‚°ã‚¤ãƒ³',
        'oauth_login': 'OAuth ãƒ­ã‚°ã‚¤ãƒ³',
        'about_this_application': 'ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦',
        'about_this_app': 'ã“ã®ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦',
        'application_info': 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æƒ…å ±',
        'developer': 'é–‹ç™ºè€…',
        'support_this_project': 'ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ”¯æ´',
        'other_apps': 'ãã®ä»–ã®ã‚¢ãƒ—ãƒª',
        'privacy_terms': 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨åˆ©ç”¨è¦ç´„',
        'onomatopoeia_quiz': 'ã‚ªãƒãƒãƒˆãƒšã‚¯ã‚¤ã‚º',
        'daily_onomatopoeia_challenge': 'ä»Šæ—¥ã®ã‚ªãƒãƒãƒˆãƒšãƒãƒ£ãƒ¬ãƒ³ã‚¸',
        'todays_japanese_onomatopoeia': 'ä»Šæ—¥ã®æ—¥æœ¬èªã‚ªãƒãƒãƒˆãƒš',
        'what_does_this_mean': 'ã“ã‚Œã¯ã©ã†ã„ã†æ„å‘³ã§ã™ã‹ï¼Ÿ',
        'correct_well_done': 'æ­£è§£ï¼ã™ã”ã„ï¼',
        'incorrect_try_again': 'ä¸æ­£è§£ã€‚ãŒã‚“ã°ã£ã¦ï¼',
        'example_sentences': 'ä¾‹æ–‡',
        'try_another_quiz': 'åˆ¥ã®ã‚¯ã‚¤ã‚ºã‚’è©¦ã™',
        
        # Akinator game translations
        'akinator_game': 'ã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼ã‚²ãƒ¼ãƒ ',
        'word_akinator': 'å˜èªã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼',
        'akinator_setup': 'ã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼è¨­å®š',
        'reset_change': 'ãƒªã‚»ãƒƒãƒˆ/å¤‰æ›´',
        'conversation': 'ä¼šè©±',
        'you': 'ã‚ãªãŸ',
        'ai': 'AI',
        'type_your_question': 'è³ªå•ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...',
        'submit_press_enter': 'é€ä¿¡ / Enterã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãã ã•ã„',
        'hint': 'ãƒ’ãƒ³ãƒˆ',
        'give_up': 'ã‚ãã‚‰ã‚ã‚‹',
        'i_know': 'ã‚ã‹ã£ãŸï¼',
        'enter_answer': 'ç­”ãˆã‚’å…¥åŠ›...',
        'submit_answer': 'ç­”ãˆã‚’é€ä¿¡',
        'quick_responses': 'ã‚¯ã‚¤ãƒƒã‚¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹',
        'yes': 'ã¯ã„',
        'no': 'ã„ã„ãˆ',
        'dont_know': 'ã‚ã‹ã‚‰ãªã„',
        'sometimes': 'ã¨ãã©ã',
        'correct_exclamation': 'æ­£è§£ï¼',
        'game_over': 'ã‚²ãƒ¼ãƒ çµ‚äº†ï¼',
        'play_again': 'ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤',
        'change_settings': 'è¨­å®šå¤‰æ›´',
        'instructions': 'èª¬æ˜',
        'ask_questions_about_ai_word': 'AIã®å˜èªã«ã¤ã„ã¦è³ªå•ã—ã¦ã€ä½•ã‚’è€ƒãˆã¦ã„ã‚‹ã‹å½“ã¦ã¦ãã ã•ã„ã€‚',
        'think_of_jlpt_word': 'JLPT {level}ã®å˜èªã‚’æ€ã„æµ®ã‹ã¹ã¦ã€AIã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ã€‚',
        'game_mode': 'ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰',
        'jlpt_level': 'JLPTãƒ¬ãƒ™ãƒ«',
        'start_game': 'ã‚²ãƒ¼ãƒ é–‹å§‹',
        'how_to_play': 'ãƒ—ãƒ¬ã‚¤æ–¹æ³•',
        'mode_1_ai_guesses': 'ãƒ¢ãƒ¼ãƒ‰1ï¼šAIãŒã‚ãªãŸã®ã“ã¨ã°ã‚’å½“ã¦ã‚‹ï¼ˆAIãŒã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼ï¼‰',
        'mode_1_description': 'JLPTã®å˜èªã‚’æ€ã„æµ®ã‹ã¹ã¦ãã ã•ã„ã€‚AIãŒè³ªå•ã—ã¦å½“ã¦ã¾ã™ã€‚ã€Œã¯ã„ã€ã€Œã„ã„ãˆã€ã€Œã‚ã‹ã‚‰ãªã„ã€ã€Œã¨ãã©ãã€ã®ãƒœã‚¿ãƒ³ã§ç­”ãˆã¦ãã ã•ã„ã€‚AIãŒæ­£è§£ã—ãŸã‚‰ã€Œæ­£è§£ï¼ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚',
        'mode_2_you_guess': 'ãƒ¢ãƒ¼ãƒ‰2ï¼šã‚ãªãŸãŒAIã®å˜èªã‚’å½“ã¦ã‚‹ï¼ˆã‚ãªãŸãŒã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼ï¼‰',
        'mode_2_description': 'AIãŒå˜èªã‚’æ€ã„æµ®ã‹ã¹ã¾ã™ã€‚æ—¥æœ¬èªã§è³ªå•ã—ã¦å½“ã¦ã¦ãã ã•ã„ã€‚AIãŒãƒ’ãƒ³ãƒˆã§ç­”ãˆã¾ã™ã€‚ç­”ãˆãŒã‚ã‹ã£ãŸã‚‰ã€Œã‚ã‹ã£ãŸï¼ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç­”ãˆã®ã“ã¨ã°ã ã‘ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚',
        'tips': 'ã‚³ãƒ„',
        'tip_1': 'â€¢ JLPTãƒ¬ãƒ™ãƒ«ã‚’æ…é‡ã«é¸ã‚“ã§ãã ã•ã„ - é›£ã—ã„ãƒ¬ãƒ™ãƒ«ã»ã©èªå½™ãŒå¤šããªã‚Šã¾ã™',
        'tip_2': 'â€¢ è¾›æŠ±å¼·ãå¾…ã£ã¦ãã ã•ã„ - AIã¯ã‚ãªãŸã®å›ç­”ã‹ã‚‰å­¦ç¿’ã—ã¾ã™',
        'tip_3': 'â€¢ ãƒ¢ãƒ¼ãƒ‰2ã§ã¯å˜èªã®ç¨®é¡ã€ä½¿ã„æ–¹ã€æ„å‘³ã«ã¤ã„ã¦èã„ã¦ã¿ã¦ãã ã•ã„',
        
        # About page additional translations
        'app_description_full': 'ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ç‰¹ã«JLPTï¼ˆæ—¥æœ¬èªèƒ½åŠ›è©¦é¨“ï¼‰N5ã€œN1ãƒ¬ãƒ™ãƒ«ã®æ—¥æœ¬èªèªå½™ã¨æ–‡æ³•ã®ç·´ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚<br><br>èªå½™ã‚¯ã‚¤ã‚ºã€æ–‡æ³•ç¿»è¨³ç·´ç¿’ã€ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã€OpenAI APIã‚’ä½¿ã£ãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚²ãƒ¼ãƒ ãªã©ã®æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚',
        'developer_info': 'Preplyæ—¥æœ¬èªæ•™å¸«Bã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚ŒãŸWEBã‚¢ãƒ—ãƒªã§ã™ã€‚<br><br>Preplyã§ã‚ãŸã‚‰ã—ã„è¨€èªã‚’å­¦ã³ã¾ã›ã‚“ã‹ï¼Ÿ<br>',
        'get_30_percent_discount': '30%å‰²å¼•ã‚’å—ã‘ã‚‹',
        'liked_this_app': 'ã“ã®ã‚¢ãƒ—ãƒªã‚’æ°—ã«å…¥ã£ã¦ã„ãŸã ã‘ã¾ã—ãŸã‹ï¼Ÿ<br>Patreonã§é–‹ç™ºè€…ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã¨ã€å½“ã‚¢ãƒ—ãƒªä¸Šã§ã®é›£æ˜“åº¦ã®é«˜ã„æ–‡æ³•è¡¨ç¾ã€JLPTãƒ¬ãƒ™ãƒ«ã«æ²¿ã£ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ãã®ä»–æ—¥æœ¬èªã«é–¢ã™ã‚‹ãŠã‚‚ã—ã‚ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚',
        'support_on_patreon': 'ğŸ¯ Patreonã§ã‚µãƒãƒ¼ãƒˆ',
        'patreon_support': 'Patreon',
        'donation_page': 'ãƒ‰ãƒãƒ¼ã‚·ãƒ§ãƒ³ (PayPal / Buy me a coffee)',
        'donation_support': 'é–‹ç™ºã‚’ã‚µãƒãƒ¼ãƒˆ',
        'support_development': 'é–‹ç™ºã‚’ã‚µãƒãƒ¼ãƒˆ',
        'support_message': 'ã“ã®ã‚¢ãƒ—ãƒªã‚’ç„¡æ–™ã§ç¶­æŒã™ã‚‹ãŸã‚ã«ã”æ”¯æ´ãã ã•ã„ï¼',
        'support_description': 'ã‚ãªãŸã®ã‚µãƒãƒ¼ãƒˆã¯ã€ã“ã®æ—¥æœ¬èªå­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ç¶­æŒãƒ»æ”¹å–„ã«å½¹ç«‹ã¡ã¾ã™ã€‚',
        'thank_you_message': 'æ—¥æœ¬èªå­¦ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼',
        'n_back_test': 'N-backãƒ†ã‚¹ãƒˆï¼ˆæ•°å­—ï¼‰',
        'may_take_time_to_load': 'ï¼ˆèª­ã¿è¾¼ã¿ã«æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼‰',
        'privacy_policy_content': 'ã“ã®ã‚¢ãƒ—ãƒªã¯ã€èªè¨¼ä»¥å¤–ã®å€‹äººæƒ…å ±ã‚’åé›†ãƒ»å…±æœ‰ã—ã¾ã›ã‚“ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¯ã‚¢ãƒ—ãƒªæ©Ÿèƒ½ã®ãŸã‚ã«ã®ã¿ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ã“ã®ã‚¢ãƒ—ãƒªã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€å€‹äººå­¦ç¿’ç›®çš„ã§ã®ã¿ä½¿ç”¨ã™ã‚‹ã“ã¨ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã—ã¾ã™ã€‚',
        
        # Sitemap translations
        'sitemap_title': 'ğŸ—ºï¸  ã‚µã‚¤ãƒˆãƒãƒƒãƒ—',
        'sitemap_tip': 'ğŸ’¡ ãƒ’ãƒ³ãƒˆï¼šãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å„ãƒšãƒ¼ã‚¸ã«ç§»å‹•',
        'loading': 'èª­ã¿è¾¼ã¿ä¸­...',
        'failed_to_load_sitemap': 'ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ',
        
        # Grammar page translations
        'translation_practice': 'ç¿»è¨³ã—ã¦ã¿ã‚ˆã†ï¼',
        'translation_direction': 'ç¿»è¨³æ–¹å‘',
        'generate_press_r': 'ç”Ÿæˆ / Rã‚­ãƒ¼ã‚’æŠ¼ã™',
        'original': 'ã“ã‚Œã‚’ç¿»è¨³ã—ã¦ãã ã•ã„',
        'your_translation': 'ç¿»è¨³',
        'submit_answer_shift_enter': 'ç­”ãˆã‚’é€ä¿¡ / Shift+Enterã‚’æŠ¼ã™',
        'score_results': 'ã‚¹ã‚³ã‚¢çµæœ',
        'meaning': 'æ„å‘³',
        'model_answers': 'ãƒ¢ãƒ‡ãƒ«å›ç­”',
        'casual_language': 'ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«è¨€èªï¼ˆå‹é”åŒå£«ï¼‰',
        'feedback': 'ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯',
        'translation_submitted': 'ç¿»è¨³æå‡ºå®Œäº†',
        'no_scoring_jpn_to_eng': 'ç¿»è¨³ãŒæå‡ºã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã¯èª­è§£ç·´ç¿’ã§ã™ - æ—¥æœ¬èªâ†’è‹±èªç¿»è¨³ã«ã¯ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã¯æä¾›ã•ã‚Œã¾ã›ã‚“ã€‚',
        'quick_keys': 'ã‚¯ã‚¤ãƒƒã‚¯ã‚­ãƒ¼',
        'quick_keys_grammar': 'R = æ–°ã—ãç”Ÿæˆ | Shift+Enter = ç­”ãˆã‚’ãƒã‚§ãƒƒã‚¯',
        
        # Vocab page translations
        'vocabulary_quiz': 'èªå½™ã‚¯ã‚¤ã‚º',
        'generate_quiz_press_r': 'ã‚¯ã‚¤ã‚ºç”Ÿæˆ / Rã‚­ãƒ¼ã‚’æŠ¼ã™',
        'question': 'å•é¡Œ',
        'choose_correct_word': 'ç©ºæ¬„ã«å…¥ã‚‹æ­£ã—ã„å˜èªã‚’é¸ã‚“ã§ãã ã•ã„',
        'explanation': 'è§£èª¬',
        'examples': 'ä¾‹æ–‡',
        'next_question_press_r': 'æ¬¡ã®å•é¡Œ / Rã‚­ãƒ¼ã‚’æŠ¼ã™',
        'quick_keys_vocab': 'R = æ–°ã—ã„å•é¡Œã‚’ç”Ÿæˆ',
        
        # Flashcard page translations
        'flashcard_setup': 'ğŸ“š ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰è¨­å®š',
        'review_available': 'ğŸ“– å¾©ç¿’å¯èƒ½',
        'words_ready_for_review': 'å˜èªãŒå¾©ç¿’å¯èƒ½ã§ã™',
        'number_of_cards': 'ã‚«ãƒ¼ãƒ‰æ•°',
        'card_display_mode': 'ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰',
        'front_kanji_reading': 'è¡¨ï¼šæ¼¢å­— + èª­ã¿',
        'back_meaning_type': 'è£ï¼šæ„å‘³ + å“è©',
        'front_meaning_type': 'è¡¨ï¼šæ„å‘³ + å“è©',
        'back_kanji_reading': 'è£ï¼šæ¼¢å­— + èª­ã¿',
        'start_learning': 'ğŸš€ å­¦ç¿’é–‹å§‹',
        'how_to_use': 'ä½¿ã„æ–¹',
        'spaced_repetition': 'é–“éš”åå¾©',
        'spaced_repetition_desc': 'ã‚«ãƒ¼ãƒ‰ã¯ç¿’å¾—åº¦ã«åŸºã¥ã„ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚ç°¡å˜ãªã‚«ãƒ¼ãƒ‰ã¯å‡ºç¾é »åº¦ãŒä½ããªã‚Šã¾ã™ã€‚',
        
        # Listening quiz translations
        'premium_feature': 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ æ©Ÿèƒ½',
        'login_with_patreon': 'Patreonã§ãƒ­ã‚°ã‚¤ãƒ³',
        'login_with_google': 'Googleã§ãƒ­ã‚°ã‚¤ãƒ³',
        'continue_as_guest': 'ã‚²ã‚¹ãƒˆã¨ã—ã¦ç¶šè¡Œ',
        'browse_as_guest': 'ã‚²ã‚¹ãƒˆã¨ã—ã¦é–²è¦§',
        'available_quizzes': 'åˆ©ç”¨å¯èƒ½ãªã‚¯ã‚¤ã‚º',
        'no_quizzes_available': 'ã‚¯ã‚¤ã‚ºãŒã‚ã‚Šã¾ã›ã‚“',
        
        # Flashcard study translations
        'flashcard_study': 'ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰å­¦ç¿’',
        'flashcard_study_session': 'ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰å­¦ç¿’ã‚»ãƒƒã‚·ãƒ§ãƒ³',
        'card_progress': 'ã‚«ãƒ¼ãƒ‰ {current} / {total}',
        'learned': 'è¦šãˆãŸï¼',
        'not_learned': 'è¦šãˆã¦ã„ãªã„',
        'click_card_to_flip': 'ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚ãã£ã¦ãã ã•ã„ï¼ˆä½•åº¦ã§ã‚‚ã‚ãã‚Œã¾ã™ï¼‰',
        'no_words_available': 'åˆ©ç”¨å¯èƒ½ãªå˜èªãŒã‚ã‚Šã¾ã›ã‚“',
        'no_words_available_desc': 'ã“ã®ãƒ¬ãƒ™ãƒ«ã§ã¯åˆ©ç”¨å¯èƒ½ãªå˜èªãŒã‚ã‚Šã¾ã›ã‚“ã€‚',
        'back_to_setup': 'è¨­å®šã«æˆ»ã‚‹',
        'progress': 'é€²æ—',
        
        # Flashcard complete translations
        'flashcard_complete': 'ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰å®Œäº†',
        'study_session_complete': 'å­¦ç¿’ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº†',
        'session_complete': 'ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº†ï¼',
        'great_job': 'ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼',
        'flashcard_session_completed': 'ã“ã®ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚',
        'progress_saved_automatically': 'é€²æ—ã¯è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸã€‚',
        'session_summary': 'ã‚»ãƒƒã‚·ãƒ§ãƒ³è¦ç´„',
        'cards_studied': 'å­¦ç¿’ã—ãŸã‚«ãƒ¼ãƒ‰',
        'need_review': 'å¾©ç¿’ãŒå¿…è¦',
        'total': 'åˆè¨ˆ',
        'learned_words': 'è¦šãˆãŸå˜èª',
        'kanji': 'æ¼¢å­—',
        'reading': 'èª­ã¿',
        'type': 'å“è©',
        'study_count': 'å­¦ç¿’å›æ•°',
        'next_review': 'æ¬¡å›å¾©ç¿’',
        'words_needing_review': 'å¾©ç¿’ãŒå¿…è¦ãªå˜èª',
        'review_schedule': 'å¾©ç¿’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«',
        'complete_review_schedule_desc': 'ã“ã‚Œã¯å…¨ã¦ã®å˜èªï¼ˆè¦šãˆãŸå˜èªã¨è¦šãˆã¦ã„ãªã„å˜èªï¼‰ã®å®Œå…¨ãªå¾©ç¿’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚',
        'total_words_with_schedule': 'å¾©ç¿’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚ã‚‹å˜èªæ•°',
        'spaced_repetition_info': 'é–“éš”åå¾©æƒ…å ±',
        'spaced_repetition_desc_complete': 'ã€Œè¦šãˆãŸã€ã¨ãƒãƒ¼ã‚¯ã•ã‚ŒãŸå˜èªã¯é–“éš”åå¾©ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å¾“ã£ã¦å¾©ç¿’ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã€Œè¦šãˆã¦ã„ãªã„ã€ã¨ãƒãƒ¼ã‚¯ã•ã‚ŒãŸå˜èªã¯è¿½åŠ ç·´ç¿’ã®ãŸã‚ã«ã™ãã«å†è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚',
        'no_reviews_scheduled': 'å¾©ç¿’ã®äºˆå®šãªã—',
        'back_to_flashcard_home': 'ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹',
        'today': 'ä»Šæ—¥',
        'days_abbrev': 'æ—¥',
        'days_until_review': 'å¾©ç¿’ã¾ã§æ—¥æ•°',
        'words_to_review': 'å¾©ç¿’ã™ã‚‹å˜èª',
        'review_schedule_chart_desc': 'å¾©ç¿’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«: æ¯æ—¥å­¦ç¿’ã™ã¹ãå˜èªæ•°',
        
        # Listening quiz translations
        'audio_listening_test': 'éŸ³å£°ãƒªã‚¹ãƒ‹ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ',
        'audio_player': 'éŸ³å£°ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼',
        'score': 'ã‚¹ã‚³ã‚¢',
        'submit_answers': 'ç­”ãˆã‚’æå‡º',
        'your_selections': 'ã‚ãªãŸã®é¸æŠ',
        'none_selected': 'é¸æŠãªã—',
    }
}

def get_text(key, language='en'):
    """æŒ‡å®šã•ã‚ŒãŸè¨€èªã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—"""
    return TRANSLATIONS.get(language, TRANSLATIONS['en']).get(key, TRANSLATIONS['en'].get(key, key))

def get_user_language():
    """ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨€èªè¨­å®šã‚’å–å¾—"""
    from flask_login import current_user
    from flask import session
    
    if current_user.is_authenticated and hasattr(current_user, 'language') and current_user.language:
        return current_user.language
    elif 'language' in session:
        return session['language']
    return 'en'

def get_user_font():
    """ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ•ã‚©ãƒ³ãƒˆè¨­å®šã‚’å–å¾—"""
    from flask_login import current_user
    from flask import session
    
    if current_user.is_authenticated and hasattr(current_user, 'font_family') and current_user.font_family:
        return current_user.font_family
    elif 'font_family' in session:
        return session['font_family']
    return 'notosans'